---
title: "Upload Guide"
description: "Upload a new build to Buildstash"
---

This guide covers uploading via single or multipart upload flows. Multipart is required for build files above 5GB, and optional for files smaller than this.

### Authentication

Note, a Buildstash app-level API key is required for uploading builds.

### Build Upload Steps

#### Request to start

<Steps>
  <Step title="Request to start upload" icon="chevron-right" stepNumber={1}>
    Use [/upload/request](/api-reference/endpoint/upload/request) endpoint to pass in all key build information, request to begin the upload process, and receive a presigned URL for uploading the build file to.

    <Card title="/upload/request" icon="terminal" horizontal href="/upload/request" cta="View endpoint">
      
    </Card>
  </Step>
</Steps>

#### Upload - Single part

<Steps>
  <Step title="Upload file to presigned URL" icon="chevron-right" stepNumber={2}>
    Upload the file

    <RequestExample>

    ```filename
    // add code here
    ```

    </RequestExample>

    If the upload to S3 was successful, you've receive a response like:

    <ResponseExample>

    ```filename
    // add code here
    ```

    </ResponseExample>
  </Step>
</Steps>

#### Upload - Multipart

<Steps>
  <Step title="Request to start upload" icon="chevron-right" stepNumber={1}>
    Use [/upload/request/multipart](/api-reference/endpoint/upload/request/multipart) endpoint to request the presigned URL for each part.

    <Card title="/upload/request/multipart" icon="terminal" horizontal href="/api-reference/endpoint/upload/request/multipart" cta="View endpoint">
      
    </Card>
  </Step>
  <Step title="Upload part" icon="chevron-right">
    asdf
  </Step>
</Steps>

#### Upload - Verify

<Steps>
  <Step title="Verify and complete upload" icon="chevron-right" stepNumber={4}>
    Use [/upload/verify](/api-reference/endpoint/upload/verify) endpoint to inform Buildstash the upload is complete, validate all parts have successfully uploaded, and complete the upload flow.

    <Card title="/upload/verify" icon="terminal" horizontal href="/upload/verify" cta="View endpoint">
      
    </Card>
  </Step>
</Steps>

## Best Practices

1. **Retry Logic**: Implement retry logic for failed uploads
2. **Progress Tracking**: Track upload progress for large files
3. **Parallel Uploads**: Upload parts in parallel for better performance
4. **Validation**: Verify file integrity after upload
5. **Cleanup**: Handle cleanup on upload failure